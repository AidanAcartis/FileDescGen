Corriger cette partie " else
            # Si le fichier est fermé, récupérer la date de dernière modification
            close_time=$(stat --format='%y' "$file" | awk '{print $2}')
        fi

        # Afficher le résultat formaté
        echo "$open_time $close_time $file""

comme ceci, instruction:
On va stocker la sortie de cette commande 'grep -A 1 "Fenêtres fermées" ~/window_changes.log | grep -v "^--$"
' et 

Vérifier si les fichiers trouvés ici:
find /home/aidan/ -type f ! -path '*/.*' -atime 0 2>/dev/null | while read file; do
se trouvent dans la liste de la sortie de cette commande:
'paste <(grep -A 0 "Fenêtres fermées" ~/window_changes.log | grep -v "^--$" | awk '{print $2}') <(grep -A 1 "Fenêtres fermées" ~/window_changes.log | grep -v "^--$" | awk -F ' aidan ' 'NF>1 {split($2, arr, " - "); title=""; for (i=1; i<=length(arr)-2; i++) title = title (i>1 ? " - " : "") arr[i]; print title ? title : arr[1]}')'
depuis la dernière ligne de la sortie du commande en montant,
S'ils se trouvent là, c'est qu'il est déàja fermé et en prend son heure de fermeture à côté,
sinon c'est qu'il est encore ouvert donc pas d'heure d'ouverture.

Voici le script:"
#!/bin/bash

# Obtenir la date actuelle
today=$(date '+%Y-%m-%d')

# Trouver les fichiers ouverts aujourd'hui uniquement
find /home/aidan/ -type f ! -path '*/.*' -atime 0 2>/dev/null | while read file; do
    # Récupérer la date et l'heure d'accès (ouverture), ceci récupère l'heure d'ouverture
    open_time=$(stat --format='%x' "$file" | awk '{print $1, $2}')

    #C'est ici qu'on va appliquer ceci:
    Vérifier si les fichiers trouvés ici:
    find /home/aidan/ -type f ! -path '*/.*' -atime 0 2>/dev/null | while read file; do
    se trouvent dans la liste de la sortie de cette commande:
    'paste <(grep -A 0 "Fenêtres fermées" ~/window_changes.log | grep -v "^--$" | awk '{print $2}') <(grep -A 1 "Fenêtres fermées" ~/window_changes.log | grep -v "^--$" | awk -F ' aidan ' 'NF>1 {split($2, arr, " - "); title=""; for (i=1; i<=length(arr)-2; i++) title = title (i>1 ? " - " : "") arr[i]; print title ? title : arr[1]}')'
    depuis la dernière ligne de la sortie du commande en montant,
    S'ils se trouvent là, c'est qu'il est déjà fermé et on prend son heure de fermeture à côté,
    sinon c'est qu'il est encore ouvert donc pas d'heure d'ouverture.
        
done | sort -k1,1 -k2,2
"